<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IX_Cr3@mP!e Admin Page</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background: #f0f0f0;
    color: #000;
}
h1 { text-align: center; color: #FF00D4; }
form { 
    max-width: 900px; 
    margin: auto; 
    background: rgba(229, 223, 0, 0.45); 
    padding: 20px; 
    border-radius: 15px; 
    border: 3px solid #000;
}
fieldset {
    margin-bottom: 20px;
    padding: 15px;
    border-radius: 10px;
    border: 2px solid #000;
}
label { display: block; margin-top: 10px; font-weight: bold; }
input[type=text], input[type=url], select { 
    width: 100%; 
    padding: 8px; 
    margin-top: 5px;
    border-radius: 6px;
    border: 2px solid #000;
}
textarea { width: 100%; padding: 8px; border-radius: 6px; border: 2px solid #000; resize: vertical; }
button {
    background: #00E5FF;
    color: #000;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    cursor: pointer;
    margin-top: 10px;
}
button:hover { background: #FF00D4; color: #fff; }
</style>
</head>
<body>

<h1>IX_Cr3@mP!e SignUp Page</h1>

<form id="adminForm">
  <!-- Profile Section -->
  <fieldset>
    <legend>Main Profile</legend>
    <label for="profileName">Profile Name:</label>
    <input type="text" id="profileName" required>

    <label for="profileLink">Profile Link:</label>
    <input type="url" id="profileLink" required>

    <label for="profileImage">Profile Image URL:</label>
    <input type="url" id="profileImage" required>
  </fieldset>

  <!-- Showtimes Section -->
  <fieldset>
    <legend>Showtimes / Days of Week</legend>
    <div id="showtimesContainer">
      <div class="showtime-row">
        <label>Day:</label>
        <select class="showDay">
          <option>Monday</option>
          <option>Tuesday</option>
          <option>Wednesday</option>
          <option>Thursday</option>
          <option>Friday</option>
          <option>Saturday</option>
          <option>Sunday</option>
        </select>

        <label>Time (HH:MM, 24h):</label>
        <input type="text" class="showTime" placeholder="17:00">

        <label>URL:</label>
        <input type="url" class="showURL" placeholder="https://example.com">
      </div>
    </div>
    <button type="button" onclick="addShowtimeRow()">+ Add Showtime</button>
  </fieldset>

  <!-- Top & Bottom Buttons -->
  <fieldset>
    <legend>Top / Bottom Buttons</legend>
    <label>Top Button Text:</label>
    <input type="text" id="topBtnText">

    <label>Top Button Link:</label>
    <input type="url" id="topBtnLink">

    <label>Bottom Button Text:</label>
    <input type="text" id="bottomBtnText">

    <label>Bottom Button Link:</label>
    <input type="url" id="bottomBtnLink">
  </fieldset>

  <!-- Downlines -->
  <fieldset>
    <legend>Downline Pages (separate by | )</legend>
    <textarea id="downlines" rows="4" placeholder="page1.html|page2.html|page3.html"></textarea>
  </fieldset>

    <button id="sendDataBtn">Enter</button>
</form>

<pre id="output" style="margin-top:20px; background:#fff; padding:15px; border:3px solid #000;"></pre>

<script>
const sendBtn = document.getElementById('sendDataBtn');
sendBtn.addEventListener('click', () => {
    const csvText = document.getElementById('output').innerText;
    if(!csvText) return alert("Generate CSV first!");
    
    // Save CSV to localStorage
    localStorage.setItem("adminCSVData", csvText);
    
    // Go to data view page
    window.location.href = "data-view.html";
});
    
</script>
    
<script>
function addShowtimeRow() {
  const container = document.getElementById('showtimesContainer');
  const div = document.createElement('div');
  div.className = 'showtime-row';
  div.innerHTML = `
    <label>Day:</label>
    <select class="showDay">
      <option>Monday</option>
      <option>Tuesday</option>
      <option>Wednesday</option>
      <option>Thursday</option>
      <option>Friday</option>
      <option>Saturday</option>
      <option>Sunday</option>
    </select>

    <label>Time (HH:MM, 24h):</label>
    <input type="text" class="showTime" placeholder="17:00">

    <label>URL:</label>
    
    <input type="url" class="showURL" placeholder="https://example.com">
    
  `;
  container.appendChild(div);
}

function generateCSV() {
  const profileName = document.getElementById('profileName').value;
  const profileLink = document.getElementById('profileLink').value;
  const profileImage = document.getElementById('profileImage').value;
  const topBtnText = document.getElementById('topBtnText').value;
  const topBtnLink = document.getElementById('topBtnLink').value;
  const bottomBtnText = document.getElementById('bottomBtnText').value;
  const bottomBtnLink = document.getElementById('bottomBtnLink').value;
  const downlines = document.getElementById('downlines').value;

  const showDayElems = document.querySelectorAll('.showDay');
  const showTimeElems = document.querySelectorAll('.showTime');
  const showURLElems = document.querySelectorAll('.showURL');

  const showtimes = [];
  for (let i = 0; i < showDayElems.length; i++) {
    showtimes.push(`${showDayElems[i].value},${showTimeElems[i].value},${showURLElems[i].value}`);
  }

  const csvData = `
id,image,link,text,downlines,showURL,showDay,showTime,topBtnText,topBtnLink,bottomBtnText,bottomBtnLink
1,${profileImage},${profileLink},${profileName},${downlines},${showURLElems[0]?.value || ''},${showDayElems[0]?.value || ''},${showTimeElems[0]?.value || ''},${topBtnText},${topBtnLink},${bottomBtnText},${bottomBtnLink}
`;

  document.getElementById('output').innerText = csvData.trim();
}
</script>

</body>
</html>